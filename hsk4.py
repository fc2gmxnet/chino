import streamlit as st
import pandas as pd
import random

# --- Data setup ---
df_dictionary = {'Lesson': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3], 'Column1': ['听说你男朋友李进跟你是一个学校的，是你同学吗？', '他学的是新闻，我学的是法律，我和他不是一个班。', '那你们俩是怎么认识的？', '我们是在一次足球比赛中认识的。', '他一个人踢进两个球，我对他印象很深。', '后来就慢慢熟悉了。', '他不仅足球踢得好，性格也不错。', '李老师，我下个月5号就要结婚了。', '你们不是才认识一个月？', '虽然我们认识的时间不长，但我从来没这么快乐过。', '两个人在一起，最好能有共同的兴趣和爱好。', '我们有很多共同的爱好，经常一起打球、唱歌、做菜。', '看来你真的找到适合你的人了。', '祝你们幸福！', '听说您跟妻子结婚快二十年了？', '到6月9号，我们就结婚二十年了。', '这么多年，我们的生活一直挺幸福的。', '我和丈夫刚结婚的时候，每天都觉得很新鲜。', '两个人共同生活，只有浪漫和新鲜感是不够的。', '您说的对！我现在每天看到的都是他的缺点。', '两个人在一起时间长了，就会有很多问题。', '只有接受了他的缺点，你们才能更好地一起生活。', '很多女孩子羡慕浪漫的爱情。', '那什么是浪漫呢？', '中年人说：浪漫是即使晚上加班到零点，到家时，自己家里也还亮着灯。', '老年人说：浪漫其实就像歌中唱的那样，“我能想到最浪漫的事，就是和你一起慢慢变老。”', '其实，让我们感动的，就是生活中简单的爱情。', '有时候，简单就是最大的幸福。', '说到结婚，人们就会很自然地想起爱情。', '爱情是结婚的重要原因，但两个人共同生活，不仅需要浪漫的爱情，更需要性格上互相吸引。', '我丈夫是个很幽默的人。', '即使是很普通的事情，从他嘴里说出来也会变得很有意思。', '在我难过的时候，他总是有办法让我高兴起来。', '而且他的脾气也不错，结婚快十年了，我们俩几乎没因为什么事红过脸。', '很多人都特别羡慕我们。', '来中国快一年了，你适应这儿的生活了吗？', '开始有点儿不习惯，后来就慢慢适应了', '最近我还交了一个中国朋友', '我们是在图书馆认识的', '平时我们常常一起看书、逛街、踢足球', '有时候他还给我发一些幽默短信', '下次介绍我们认识认识，怎么样？', '星期天同学聚会，你能来吗？', '班里同学你联系得怎么样了？', '张远还专门从国外飞回来呢', '毕业都快十年了，真想大家啊！', '她毕业后就去上海工作了', '麻烦你跟她联系一下，请她一起来参加同学聚会', '聚会就在学校门口那个饭店，六点半', '这是上大学时的照片', '一看到这张照片，我就想起过去那段快乐的日子', '好像重新回到了校园', '你们现在还联系吗？', '尽管已经毕业这么多年，我们还是经常联系的', '我上大学时最好的朋友去了南方工作', '我一会儿就给她打个电话', '能有一个真正的朋友，有一段真正的友谊，是多么不容易', '每个人都需要朋友，朋友可以丰富我们的生活', '离开朋友，我们的生活一定会非常无聊', '那么，怎样才能交到更多的朋友呢？', '当然，要有好脾气', '一个脾气不好的人虽然不一定让人讨厌，但是却很难跟人交朋友', '因为没有人会喜欢跟一个总是容易生气的人在一起', '我们还要经常跟周围的人交流', '交流能让人们互相了解', '如果有共同的兴趣、爱好或者习惯，就更容易成为朋友了', '人的一生可以什么也没有，但不能没有朋友', '而且必须要有自己真正的朋友', '不同的人会有不同的理解', '有些人觉得朋友就是能和自己一起快乐的人', '有些人觉得朋友应该像镜子，能帮自己看到缺点', '当你遇到困难的时候，真正的朋友会站出来', '及时给你帮助', '当你无聊或者难过的时候，真正的朋友会陪在你身边', '想办法让你感到幸福', '你上午的面试怎么样？', '他们问的问题都挺容易的，就是我有点儿紧张。', '面试的时候，一定要对自己有信心，要相信自己的能力。', '你说的对！3月15号上午8点在学校体育馆还有一个招聘会，你去吗？', '听说这次招聘会提供的工作机会很多，我们一起去看看吧。', '小林，这次招聘不是小李负责吗？', '本来是小李负责的，但是他突然生病住院了，所以就交给我来做了。', '经理，这次来应聘的一共有15人。', '经过笔试和面试，有两个不错。', '这两个人的能力都比较符合我们的要求。', '你通知他们下周一上午九点来我办公室吧。', '大学毕业后就没联系了，你现在在哪儿工作呢？', '我一毕业就去上海当律师了。', '你对现在的工作一定非常满意吧？', '我很喜欢现在的工作，因为我学的就是法律专业，而且同事们都很喜欢我。', '另外，收入也不错。', '星期天咱们同学聚会，你能来参加吗？', '虽然这次来北京，时间安排得很紧张，但我一定借这次机会去跟大家见见面。', '面试的时候，经理对我印象不错，还通知我明天就可以上班了。', '真没想到，找工作这么顺利。', '首先，要穿正式的衣服，这会给面试者留下一个好的印象。', '应聘时不要紧张。', '回答问题时，说得不要太快，声音也不要太小，要相信自己有能力做好。', '当然，最重要的是回答问题要诚实。', '第一印象就是在第一次见面时给别人留下的印象。', '虽然第一印象不总是对的，但如果想改变却很困难。', '你给别人的第一印象会影响他们以后对你的感觉和判断。', '给第一次见面的同事留下好的印象，以后的工作可能会更顺利。', '给第一次见面的顾客留下好的印象，你可能会卖出更多的东西。', '如果第一次见面给别人留下像不准时这样的坏印象，那么以后就很难让别人相信你。', '所以不管是上课、上班，还是与别人约会，准时都非常重要。'], 'Column3': ['I heard your boyfriend Li Jin is from the same school as you. Is he your classmate?', 'He studies journalism, I study law. We’re not in the same class.', 'So how did you two meet?', 'We met during a soccer match.', 'He scored two goals by himself. I had a deep impression of him.', 'Later, we gradually got to know each other.', 'Not only does he play soccer well, but he also has a good personality.', 'Teacher Li, I’m getting married on the 5th of next month.', 'Haven’t you only known each other for a month?', 'Although we haven’t known each other long, I’ve never been this happy.', 'When two people are together, it’s best to have common interests and hobbies.', 'We have many shared hobbies: we often play ball, sing, and cook together.', 'It seems you’ve truly found someone suitable for you.', 'Wishing you both happiness!', 'I heard you and your wife have been married for almost 20 years?', 'By June 9th, we’ll have been married for 20 years.', 'All these years, our life has been quite happy.', 'When my husband and I just got married, every day felt very fresh.', 'For two people living together, romance and freshness alone are not enough.', 'You’re right! Now all I see every day are his shortcomings.', 'When two people are together for a long time, many problems arise.', 'Only by accepting his flaws can you live better together.', 'Many girls envy romantic love.', 'So what is romance?', 'Middle-aged people say: Romance is even if you work overtime until midnight, the lights are still on when you get home.', 'Elderly people say: Romance is actually like the song says, “The most romantic thing I can think of is growing old with you.”', 'Actually, what moves us is the simple love in everyday life.', 'Sometimes, simplicity is the greatest happiness.', 'Speaking of marriage, people naturally think of love.', 'Love is an important reason for marriage, but living together requires not only romantic love, but also mutual attraction in personality.', 'My husband is a very humorous person.', 'Even ordinary things become interesting when he talks about them.', 'When I’m feeling down, he always finds a way to cheer me up.', "Moreover, he has a good temper. We've been married for nearly ten years and have hardly ever argued.", 'Many people really envy us.', "You've been in China for almost a year. Have you adapted to life here?", 'At first I wasn’t used to it, but later I gradually adapted.', 'Recently I even made a Chinese friend.', 'We met at the library.', 'Usually we read books, go shopping, and play soccer together.', 'Sometimes he even sends me humorous text messages.', 'Next time, introduce us to each other, okay?', "There's a class reunion on Sunday. Can you come?", "How's your contact with classmates in the class?", 'Zhang Yuan even flew back specially from abroad.', "It's been almost ten years since graduation. I really miss everyone!", 'After graduation, she went to work in Shanghai.', 'Please contact her and invite her to join the class reunion.', 'The reunion / get-together / party is at the restaurant near the school gate at 6:30.', 'This is a photo from when I was in university.', 'As soon as I see this photo, I remember those happy days in the past.', "It feels like I'm back on campus again.", 'Are you still in touch now?', "Even though we've graduated for so many years, we still keep in touch often.", 'My best friend from university went to work in the south.', "I'll give her a call in a little while.", 'Having a true friend and a real friendship is really not easy.', 'Everyone needs friends; friends can enrich our lives.', 'Without friends, our lives would definitely be very boring.', 'So, how can we make more friends?', 'Of course, one must have a good temperament.', "Although a person with a bad temper may not be disliked, it's hard to make friends with them.", 'Because no one likes being with someone who always gets angry easily.', 'We also need to communicate regularly with people around us.', 'Communication helps people understand each other.', "If people share common interests, hobbies, or habits, it's easier to become friends.", 'A person may have nothing in life, but cannot be without friends.', 'Moreover, one must have true friends of their own.', 'Different people will have different understandings.', 'Some people think a friend is someone who can be happy with you.', 'Some people think a friend should be like a mirror, helping you see your shortcomings.', 'When you encounter difficulties, a true friend will step forward.', 'They will help you in time.', "When you're bored or sad, a true friend will stay by your side.", "They'll find ways to make you feel happy.", 'How was your interview this morning?', 'The questions they asked were quite easy, but I was a bit nervous.', 'During the interview, you must have confidence in yourself and believe in your abilities.', "You're right! There's another job fair at 8 a.m. on March 15th in the school gym—are you going?", "I heard this job fair offers many job opportunities—let's go check it out together.", 'Xiao Lin, wasn’t Xiao Li responsible for this recruitment?', 'Originally it was Xiao Li’s responsibility, but he suddenly got sick and was hospitalized, so it was handed over to me.', 'Manager, there were 15 applicants this time.', 'After the written test and interview, two were quite good.', 'These two people’s abilities match our requirements quite well.', 'Notify them to come to my office next Monday at 9 a.m.', 'We haven’t been in touch since graduating from university. Where are you working now?', 'I became a lawyer in Shanghai right after graduation.', 'You must be very satisfied with your current job, right?', 'I really like my current job because I studied law, and my colleagues all like me.', 'Besides, the income is also pretty good.', 'We’re having a class reunion on Sunday—can you come?', 'Although my schedule in Beijing is tight, I’ll definitely take this opportunity to see everyone.', 'During the interview, the manager had a good impression of me and even informed me I could start work tomorrow.', 'I really didn’t expect finding a job to go so smoothly.', 'First, you should wear formal clothes—this will leave a good impression on the interviewer.', 'Don’t be nervous when applying for a job.', 'When answering questions, don’t speak too fast or too softly—believe in your ability to do well.', 'Of course, the most important thing is to answer questions honestly.', 'A first impression is the impression you leave on others when you meet for the first time.', 'Although first impressions aren’t always accurate, they’re hard to change.', 'The first impression you give others will affect how they feel and judge you later.', 'Leaving a good impression on colleagues when you first meet may make future work smoother.', 'Leaving a good impression on clients may help you sell more.', 'If you leave a bad impression like being late, it’ll be hard for others to trust you later.', 'So whether it’s class, work, or a date, being on time is very important.'], 'Column2': ['Tīngshuō nǐ nánpéngyou Lǐ Jìn gēn nǐ shì yī gè xuéxiào de, shì nǐ tóngxué ma?', 'Tā xué de shì xīnwén, wǒ xué de shì fǎlǜ, wǒ hé tā bù shì yī gè bān.', 'Nà nǐmen liǎ shì zěnme rènshi de?', 'Wǒmen shì zài yī cì zúqiú bǐsài zhōng rènshi de.', 'Tā yī gè rén tī jìn liǎng gè qiú, wǒ duì tā yìnxiàng hěn shēn.', 'Hòulái jiù mànmàn shúxī le.', 'Tā bùjǐn zúqiú tī de hǎo, xìnggé yě búcuò.', 'Lǐ lǎoshī, wǒ xià gè yuè wǔ hào jiù yào jiéhūn le.', 'Nǐmen bù shì cái rènshi yī gè yuè?', 'Suīrán wǒmen rènshi de shíjiān bù cháng, dàn wǒ cónglái méi zhème kuàilè guò.', 'Liǎng gè rén zài yīqǐ, zuì hǎo néng yǒu gòngtóng de xìngqù hé àihào.', 'Wǒmen yǒu hěn duō gòngtóng de àihào, jīngcháng yīqǐ dǎqiú, chànggē, zuò cài.', 'Kànlái nǐ zhēn de zhǎodào shìhé nǐ de rén le.', 'Zhù nǐmen xìngfú!', 'Tīngshuō nín gēn qīzi jiéhūn kuài èrshí nián le?', 'Dào liù yuè jiǔ hào, wǒmen jiù jiéhūn èrshí nián le.', 'Zhème duō nián, wǒmen de shēnghuó yīzhí tǐng xìngfú de.', 'Wǒ hé zhàngfu gāng jiéhūn de shíhòu, měitiān dōu juéde hěn xīnxiān.', 'Liǎng gè rén gòngtóng shēnghuó, zhǐyǒu làngmàn hé xīnxiān gǎn shì bùgòu de.', 'Nín shuō de duì! Wǒ xiànzài měitiān kàndào de dōu shì tā de quēdiǎn.', 'Liǎng gè rén zài yīqǐ shíjiān cháng le, jiù huì yǒu hěn duō wèntí.', 'Zhǐyǒu jiēshòu le tā de quēdiǎn, nǐmen cái néng gèng hǎo de yīqǐ shēnghuó.', 'Hěn duō nǚ háizi xiànmù làngmàn de àiqíng.', 'Nà shénme shì làngmàn ne?', 'Zhōngnián rén shuō: Làngmàn shì jíshǐ wǎnshàng jiābān dào língdiǎn, dàojiā shí, zìjǐ jiālǐ yě hái liàngzhe dēng.', 'Lǎonián rén shuō: Làngmàn qíshí jiù xiàng gē zhōng chàng de nàyàng, “Wǒ néng xiǎngdào zuì làngmàn de shì, jiùshì hé nǐ yīqǐ mànmàn biànlǎo.”', 'Qíshí, ràng wǒmen gǎndòng de, jiùshì shēnghuó zhōng jiǎndān de àiqíng.', 'Yǒu shíhou, jiǎndān jiùshì zuì dà de xìngfú.', 'Shuō dào jiéhūn, rénmen jiù huì hěn zìrán de xiǎngqǐ àiqíng.', 'Àiqíng shì jiéhūn de zhòngyào yuányīn, dàn liǎng gè rén gòngtóng shēnghuó, bùjǐn xūyào làngmàn de àiqíng, gèng xūyào xìnggé shàng hùxiāng xīyǐn.', 'Wǒ zhàngfu shì gè hěn yōumò de rén.', 'Jíshǐ shì hěn pǔtōng de shìqíng, cóng tā zuǐ lǐ shuō chūlái yě huì biànde hěn yǒuyìsi.', 'Zài wǒ nánguò de shíhòu, tā zǒngshì yǒu bànfǎ ràng wǒ gāoxìng qǐlái.', 'Érqiě tā de píqì yě búcuò, jiéhūn kuài shí nián le, wǒmen liǎ jīhū méi yīnwèi shénme shì hóng guò liǎn.', 'Hěn duō rén dōu tèbié xiànmù wǒmen.', 'Lái Zhōngguó kuài yī nián le, nǐ shìyìng zhèr de shēnghuó le ma?', 'Kāishǐ yǒudiǎnr bù xíguàn, hòulái jiù mànmàn shìyìng le.', 'Zuìjìn wǒ hái jiāo le yí gè Zhōngguó péngyǒu.', 'Wǒmen shì zài túshūguǎn rènshi de.', 'Píngshí wǒmen chángcháng yìqǐ kànshū, guàngjiē, tī zúqiú.', 'Yǒushíhòu tā hái gěi wǒ fā yìxiē yōumò duǎnxìn.', 'Xiàcì jièshào wǒmen rènshi rènshi, zěnmeyàng?', 'Xīngqītiān tóngxué jùhuì, nǐ néng lái ma?', 'Bānlǐ tóngxué nǐ liánxì de zěnmeyàng le?', 'Zhāng Yuǎn hái zhuānmén cóng guówài fēi huílái ne.', 'Bìyè dōu kuài shí nián le, zhēn xiǎng dàjiā a!', 'Tā bìyè hòu jiù qù Shànghǎi gōngzuò le.', 'Máfan nǐ gēn tā liánxì yíxià, qǐng tā yìqǐ lái cānjiā tóngxué jùhuì.', 'Jùhuì jiù zài xuéxiào ménkǒu nàgè fàndiàn, liù diǎn bàn.', 'Zhè shì shàng dàxué shí de zhàopiàn.', 'Yí kàndào zhè zhāng zhàopiàn, wǒ jiù xiǎngqǐ guòqù nà duàn kuàilè de rìzi.', 'Hǎoxiàng chóngxīn huídào le xiàoyuán.', 'Nǐmen xiànzài hái liánxì ma?', 'Jǐnguǎn yǐjīng bìyè zhème duō nián, wǒmen hái shì jīngcháng liánxì de.', 'Wǒ shàng dàxué shí zuì hǎo de péngyǒu qù le nánfāng gōngzuò.', 'Wǒ yíhuìr jiù gěi tā dǎ gè diànhuà.', 'Néng yǒu yí gè zhēnzhèng de péngyǒu, yǒu yí duàn zhēnzhèng de yǒuyì, shì duōme bù róngyì.', 'Měi gèrén dōu xūyào péngyǒu, péngyǒu kěyǐ fēngfù wǒmen de shēnghuó.', 'Lí kāi péngyǒu, wǒmen de shēnghuó yídìng huì fēicháng wúliáo.', 'Nàme, zěnyàng cáinéng jiāo dào gèng duō de péngyǒu ne?', 'Dāngrán, yào yǒu hǎo píqì.', 'Yí gè píqì bù hǎo de rén suīrán bù yídìng ràng rén tǎoyàn, dànshì què hěn nán gēn rén jiāo péngyǒu.', 'Yīnwèi méiyǒu rén huì xǐhuān gēn yí gè zǒngshì róngyì shēngqì de rén zài yìqǐ.', 'Wǒmen hái yào jīngcháng gēn zhōuwéi de rén jiāoliú.', 'Jiāoliú néng ràng rénmen hùxiāng liǎojiě.', 'Rúguǒ yǒu gòngtóng de xìngqù, àihào huòzhě xíguàn, jiù gèng róngyì chéngwéi péngyǒu le.', 'Rén de yìshēng kěyǐ shénme yě méiyǒu, dàn bùnéng méiyǒu péngyǒu.', 'Érqiě bìxū yào yǒu zìjǐ zhēnzhèng de péngyǒu.', 'Bùtóng de rén huì yǒu bùtóng de lǐjiě.', 'Yǒuxiē rén juéde péngyǒu jiùshì néng hé zìjǐ yìqǐ kuàilè de rén.', 'Yǒuxiē rén juéde péngyǒu yīnggāi xiàng jìngzi, néng bāng zìjǐ kàndào quēdiǎn.', 'Dāng nǐ yùdào kùnnán de shíhòu, zhēnzhèng de péngyǒu huì zhàn chūlái.', 'Jíshí gěi nǐ bāngzhù.', 'Dāng nǐ wúliáo huòzhě nánguò de shíhòu, zhēnzhèng de péngyǒu huì péi zài nǐ shēnbiān.', 'Xiǎng bànfǎ ràng nǐ gǎndào xìngfú.', 'Nǐ shàngwǔ de miànshì zěnmeyàng?', 'Tāmen wèn de wèntí dōu tǐng róngyì de, jiùshì wǒ yǒudiǎnr jǐnzhāng.', 'Miànshì de shíhou, yídìng yào duì zìjǐ yǒu xìnxīn, yào xiāngxìn zìjǐ de nénglì.', 'Nǐ shuō de duì! Sān yuè shíwǔ hào shàngwǔ bā diǎn zài xuéxiào tǐyùguǎn hái yǒu yí gè zhāopìnhuì, nǐ qù ma?', 'Tīngshuō zhè cì zhāopìnhuì tígōng de gōngzuò jīhuì hěn duō, wǒmen yìqǐ qù kànkan ba.', 'Xiǎo Lín, zhè cì zhāopìn bù shì Xiǎo Lǐ fùzé ma?', 'Běnlái shì Xiǎo Lǐ fùzé de, dànshì tā tūrán shēngbìng zhùyuàn le, suǒyǐ jiù jiāo gěi wǒ lái zuò le.', 'Jīnglǐ, zhè cì lái yìngpìn de yígòng yǒu shíwǔ rén.', 'Jīngguò bǐshì hé miànshì, yǒu liǎng gè búcuò.', 'Zhè liǎng gè rén de nénglì dōu bǐjiào fúhé wǒmen de yāoqiú.', 'Nǐ tōngzhī tāmen xià zhōuyī shàngwǔ jiǔ diǎn lái wǒ bàngōngshì ba.', 'Dàxué bìyè hòu jiù méi liánxì le, nǐ xiànzài zài nǎr gōngzuò ne?', 'Wǒ yī bìyè jiù qù Shànghǎi dāng lǜshī le.', 'Nǐ duì xiànzài de gōngzuò yídìng fēicháng mǎnyì ba?', 'Wǒ hěn xǐhuan xiànzài de gōngzuò, yīnwèi wǒ xué de jiùshì fǎlǜ zhuānyè, érqiě tóngshìmen dōu hěn xǐhuan wǒ.', 'Lìngwài, shōurù yě búcuò.', 'Xīngqītiān zánmen tóngxué jùhuì, nǐ néng lái cānjiā ma?', 'Suīrán zhè cì lái Běijīng, shíjiān ānpái de hěn jǐnzhāng, dàn wǒ yídìng jiè zhè cì jīhuì qù gēn dàjiā jiànjiàn miàn.', 'Miànshì de shíhou, jīnglǐ duì wǒ yìnxiàng búcuò, hái tōngzhī wǒ míngtiān jiù kěyǐ shàngbān le.', 'Zhēn méi xiǎngdào, zhǎo gōngzuò zhème shùnlì.', 'Shǒuxiān, yào chuān zhèngshì de yīfu, zhè huì gěi miànshì zhě liúxià yí gè hǎo de yìnxiàng.', 'Yìngpìn shí búyào jǐnzhāng.', 'Huídá wèntí shí, shuō de búyào tài kuài, shēngyīn yě búyào tài xiǎo, yào xiāngxìn zìjǐ yǒu nénglì zuò hǎo.', 'Dāngrán, zuì zhòngyào de shì huídá wèntí yào chéngshí.', 'Dì yī yìnxiàng jiùshì zài dì yī cì jiànmiàn shí gěi biérén liúxià de yìnxiàng.', 'Suīrán dì yī yìnxiàng bù zǒng shì duì de, dàn rúguǒ xiǎng gǎibiàn què hěn kùnnán.', 'Nǐ gěi biérén de dì yī yìnxiàng huì yǐngxiǎng tāmen yǐhòu duì nǐ de gǎnjué hé pànduàn.', 'Gěi dì yī cì jiànmiàn de tóngshì liúxià hǎo de yìnxiàng, yǐhòu de gōngzuò kěnéng huì gèng shùnlì.', 'Gěi dì yī cì jiànmiàn de gùkè liúxià hǎo de yìnxiàng, nǐ kěnéng huì màichū gèng duō de dōngxi.', 'Rúguǒ dì yī cì jiànmiàn gěi biérén liúxià xiàng bù zhǔnshí zhèyàng de huài yìnxiàng, nàme yǐhòu jiù hěn nán ràng biérén xiāngxìn nǐ.', 'Suǒyǐ bùguǎn shì shàngkè, shàngbān, háishì yǔ biérén yuēhuì, zhǔnshí dōu fēicháng zhòngyào.']}
df = pd.DataFrame(df_dictionary)
df['Lesson'] = df['Lesson'].astype(str)  # Ensure lessons are strings

import streamlit as st
import pandas as pd
import random

# --- Data setup ---
df = pd.DataFrame(df_dictionary)
df['Lesson'] = df['Lesson'].astype(str)  # Ensure lessons are strings

# --- Page configuration ---
st.set_page_config(
    page_title='maps - Pesquisa Google',
    page_icon='https://github.com/fc2gmxnet/chino/raw/main/icons8-google-logo-48.png',
    layout='wide'
)

# --- UI: Dropdown on top, Toggle below ---
selected_lesson = st.selectbox("选择课文", sorted(df['Lesson'].unique()))
toggle = st.toggle("HSK 4:    用中文回答")

# --- Language columns ---
if toggle:
    columna_pregunta = 2
    columna_respuesta = 1
else:
    columna_pregunta = 1
    columna_respuesta = 2

# --- Filter by selected lesson ---
filtered_df = df[df['Lesson'] == selected_lesson]

# --- Session state for random index ---
if "random_index" not in st.session_state or st.session_state.get("last_lesson") != selected_lesson:
    st.session_state.random_index = random.randint(0, len(filtered_df) - 1) if not filtered_df.empty else None
    st.session_state.last_lesson = selected_lesson

# --- Function to pick a new random row ---
def get_new_random_row():
    if not filtered_df.empty:
        st.session_state.random_index = random.randint(0, len(filtered_df) - 1)

# --- Display question ---
if st.session_state.random_index is not None:
    random_row = filtered_df.iloc[st.session_state.random_index]
    st.subheader(random_row.iloc[columna_pregunta])

    # Reveal answer
    if st.button('???'):
        st.subheader(random_row.iloc[3])
        if columna_respuesta == 1:
            st.title(random_row.iloc[columna_respuesta])
        else:
            st.subheader(random_row.iloc[columna_respuesta])

    # Next question
    if st.button("+++"):
        get_new_random_row()
        st.rerun()
else:
    st.warning("No questions available for this lesson.")
